<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dgjs.mapper.content.IndexConfigMapper">
  
  	<insert id="save" parameterType="indexConfig" keyProperty="id" useGeneratedKeys="true">
	       insert into index_config
	       (
	           type,
               position,
               aid,
               pictures,
               sort,
               status,
               title,
               sub_content
	       )
	       values
	       (
	           #{type},
               #{position},
               #{aid},
               #{pictures},
               #{sort},
               #{status},
               #{title},
               #{sub_content}
	       )
	</insert>
	
	<select id="list" resultType="indexConfig">
	     select id,type,position,aid,pictures,sort,status,title,sub_content from index_config 
	     <where>
	         <if test="status!=null">and status=#{status}</if>
	         <if test="type!=null">and type=#{type}</if>
	     </where>
	     order by sort asc
	</select>
	
	<update id="update">
	      update index_config  
	      <set>
	         <if test="status!=null">status=#{status},</if>
	         <if test="type!=null">type=#{type},</if>
	         <if test="position!=null">position=#{position},</if>
	         <if test="aid!=null">aid=#{aid},</if>
	         <if test="pictures!=null">pictures=#{pictures},</if>
	         <if test="sort!=null">sort=#{sort},</if>
	         <if test="title!=null and title!=''">title=#{title},</if>
	         <if test="sub_content!=null and sub_content!=''">sub_content=#{sub_content},</if>
	      </set>
	      where id=#{id}
	</update>
	
	<delete id="deleteById">
	      delete from index_config where id=#{id}
	</delete>
	
	<select id="selectById" resultType="indexConfig">
	       select id,type,position,aid,pictures,sort,status,title,sub_content from index_config 
	       where id=#{id}
	</select>
	
</mapper>
