<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dgjs.mapper.content.DraftAPRecordMapper">

    <insert id="save" parameterType="draftAPRecord" keyProperty="id">
	  insert into draft_ap_record 
	  (
	           draft_id,
               create_time,
               operator,
               action,
               operate_desc
	  )
	  values
	  (
	           #{draft_id},
               now(),
               #{operator},
               #{action},
               #{operate_desc}
	  )
   </insert>

   <select id="list" resultType="draftAPRecord">
       select id,draft_id,create_time,operator,action,operate_desc from draft_ap_record
       <where>
          <if test="draft_id!=null and draft_id!=''">and draft_id=#{draft_id}</if>
          <if test="operator!=null">and operator=#{operator}</if>
          <if test="action!=null">and action=#{action}</if>
       </where> 
       limit 0,100
   </select>
</mapper>